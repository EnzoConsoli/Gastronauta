<div *ngIf="isVisible" class="popup-overlay">
  <div class="popup-content">

    <h2 class="popup-title">{{ title }}</h2>
    <p class="popup-message">{{ message }}</p>

    <!-- CAMPO DE SENHA (somente no modo confirmação com senha) -->
    <div *ngIf="isConfirmation && requiresInput" class="password-container">

      <input 
        [(ngModel)]="inputValue"
        [type]="showPassword ? 'text' : 'password'"
        class="popup-input"
        placeholder="Digite sua senha"
      />

      <!-- BOTÃO DO OLHO -->
      <button class="toggle-password" (click)="togglePassword()">

        <!-- OLHO ABERTO -->
        <svg *ngIf="showPassword" viewBox="0 0 24 24" class="eye-icon">
          <path fill="currentColor" 
            d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Zm0 12.5a5 5 0 1 1 5-5a5 5 0 0 1-5 5Z"/>
        </svg>

        <!-- OLHO FECHADO -->
        <svg *ngIf="!showPassword" viewBox="0 0 24 24" class="eye-icon">
          <path fill="currentColor"
            d="M2.39 1.73L1.11 3l3.2 3.2A11.85 11.85 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5a11.2 11.2 0 0 0 6.07-1.78L21 22l1.28-1.27ZM12 17c-4 0-7.27-2.61-8.88-5c.89-1.52 2.22-2.89 3.79-3.86l1.51 1.5A5 5 0 0 0 12 17Zm10-5c-.82 1.45-2.09 2.76-3.6 3.75l-1.53-1.52A5 5 0 0 0 8.77 7.14l-1.5-1.5A11.93 11.93 0 0 1 12 4.5c5 0 9.27 3.11 11 7.5Z"/>
        </svg>

      </button>

    </div>

    <div class="popup-actions">

      <!-- BOTÃO OK -->
      <button class="popup-button popup-button-confirm" (click)="onConfirm()">OK</button>

      <!-- BOTÃO CANCELAR (sempre aparece em confirmações) -->
      <button 
        *ngIf="isConfirmation" 
        class="popup-button popup-button-cancel" 
        (click)="onCancel()"
      >
        Cancelar
      </button>

    </div>

  </div>
</div>
